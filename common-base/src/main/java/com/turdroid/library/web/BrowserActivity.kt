package com.turdroid.library.webimport android.content.Contextimport android.content.Intentimport android.text.TextUtilsimport android.view.KeyEventimport android.view.ViewGroupimport android.webkit.WebViewimport androidx.annotation.Nullableimport androidx.core.content.ContextCompatimport com.turdroid.library.Rimport kotlinx.android.synthetic.main.activity_browser.*open class BrowserActivity: BaseAgentWebActivity() {    override fun dataBindingEnabled(): Boolean {        return false    }    override fun getAgentWebParent(): ViewGroup {        return container    }    override fun getLayoutRes(): Int {        return R.layout.activity_browser    }    override fun initViewModel() {}    override fun initDataBindingConfig() {}    override fun initData() {        initTopBar()    }    override fun getIndicatorColor(): Int {        return ContextCompat.getColor(this,R.color.design_default_color_primary)    }    override fun onKeyDown(keyCode: Int, event: KeyEvent?): Boolean {        return if (mAgentWeb != null && mAgentWeb.handleKeyEvent(keyCode, event)) {            true        } else super.onKeyDown(keyCode, event)    }    private fun initTopBar() {        mTopBar.addLeftBackImageButton()            .setOnClickListener {                finish()                overridePendingTransition(R.anim.slide_still, R.anim.slide_out_right)            }    }    override fun setTitle(view: WebView?, title: String) {        var realtitle = title        super.setTitle(view, title)        if (!TextUtils.isEmpty(realtitle)) {            if (title.length > 10) {                realtitle = title.substring(0, 10) + "..."            }        }        mTopBar.setTitle(realtitle)    }    override fun getIndicatorHeight(): Int {        return 3    }    @Nullable    override fun getUrl(): String? {        return intent.getStringExtra("URL")    }    companion object{        const val TAG= "BrowserActivity"        fun startMe(context: Context,url:String){            val intent = Intent(context, BrowserActivity::class.java).putExtra("URL",url)            context.startActivity(intent)        }    }}